<!DOCTYPE html>
<html lang="zh-Hant" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PyGMT Playground | äº’å‹•å¼ä»‹ç´¹ç¶²ç«™</title>
  <meta name="description" content="ä¸€å€‹ç¾è§€ã€å¯è®€ã€å¯äº’å‹•çš„ PyGMT ä»‹ç´¹ç¶²ç«™ã€‚å«å®‰è£æ•™å­¸ã€å¿«é€Ÿä¸Šæ‰‹ã€äº’å‹•åœ°åœ–ã€åœ–è¡¨èˆ‡ç¯„ä¾‹ç¨‹å¼ç¢¼ã€‚" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Icons -->
  <script src="https://unpkg.com/lucide@latest"></script>
  <!-- Highlight.js for code syntax -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
  <script>document.addEventListener('DOMContentLoaded', () => hljs.highlightAll());</script>
  <!-- Mermaid for diagrams -->
  <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
  <script>mermaid.initialize({ startOnLoad: true, theme: 'neutral' });</script>
  
  <!-- Leaflet for interactive region demo -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>  <!-- D3 + TopoJSON for real projections demo -->
  <script src="https://cdn.jsdelivr.net/npm/d3@7/dist/d3.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/topojson-client@3/dist/topojson-client.min.js"></script>
  <style>
    :root { --brand: 36 99% 50%; }
    body { font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, "Noto Sans TC", "PingFang TC", "Microsoft JhengHei", sans-serif; }
    .glass { backdrop-filter: blur(10px); background: rgba(255,255,255,.08); }
    .prose pre { position: relative; }
    .copy-btn { position:absolute; top:.5rem; right:.5rem; }
    .section-card { transition: transform .2s ease, box-shadow .2s ease; }
    .section-card:hover { transform: translateY(-2px); box-shadow: 0 20px 35px rgba(0,0,0,.15);}    
    /* äº®è‰²æ¨¡å¼å¼·åŒ–å¯è®€æ€§ï¼šæé«˜å°æ¯”ã€èª¿æ•´ code èˆ‡å¡ç‰‡åº•è‰² */
    .light body { background:#ffffff; color:#0f172a; }
    .light .glass { background: rgba(255,255,255,.7); }
    .light .prose pre code, .light pre code { color:#e5e7eb; }
    .light .prose pre, .light pre { background:#0f172a !important; border-color:#0b1220 !important; }
    .light .copy-btn { background:rgba(255,255,255,.15); color:#fff; border:1px solid rgba(255,255,255,.2); }
    .light .section-card { background:#f8fafc !important; border-color:#e2e8f0 !important; }
    .light header, .light footer { background:#ffffffc7; }
    .light a { color:#0369a1; }
  </style>
  <!-- JSZip for client-side ZIP generation -->
</head>
<body class="bg-slate-950 text-slate-100">
  <!-- Sticky Navbar -->
  <header class="sticky top-0 z-50 border-b border-white/10 bg-slate-950/80 glass">
    <div class="max-w-7xl mx-auto px-4 py-3 flex items-center gap-3">
      <div class="flex items-center gap-2">
        <svg width="28" height="28" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="text-sky-400">
          <path d="M12 2l3 6 6 .5-4.5 4 1.5 6.5L12 16l-6 3 1.5-6.5L3 8.5 9 8l3-6z" stroke="currentColor" stroke-width="1.2"/>
        </svg>
        <span class="font-extrabold tracking-tight text-lg">PyGMT Playground</span>
      </div>
      <nav class="hidden md:flex gap-5 ml-6 text-sm text-slate-300">
        <a href="#overview" class="hover:text-white">ç¸½è¦½</a>
        <a href="#install" class="hover:text-white">å®‰è£</a>
        <a href="#quickstart" class="hover:text-white">å¿«é€Ÿä¸Šæ‰‹</a>
        <a href="#demos" class="hover:text-white">äº’å‹•å±•ç¤º</a>
        <a href="#gallery" class="hover:text-white">åœ–åº«</a>
        <a href="#cheats" class="hover:text-white">Cheat Sheet</a>
        <a href="#resources" class="hover:text-white">è³‡æº</a>
      </nav>
      <div class="ml-auto flex items-center gap-2">
        <input id="site-search" type="search" placeholder="ç«™å…§æœå°‹â€¦ (å®‰è£/åœ°å½¢/æŠ•å½±/è‰²ç›¤)" class="w-52 hidden sm:block bg-white/5 border border-white/10 rounded-xl px-3 py-1.5 text-sm outline-none focus:border-sky-400" />
        <button id="toggle-theme" class="inline-flex items-center gap-2 rounded-xl border border-white/10 px-3 py-1.5 text-sm hover:bg-white/5">
          <i data-lucide="moon"></i>
          <span>æš—è‰² / äº®è‰²</span>
        </button>
        <a href="https://www.pygmt.org/latest/" target="_blank" class="inline-flex items-center gap-2 rounded-xl bg-sky-500 hover:bg-sky-400 px-3 py-1.5 text-sm font-semibold">å®˜æ–¹æ–‡ä»¶</a>
      </div>
    </div>
  </header>

  <!-- Hero -->
  <section class="relative overflow-hidden">
    <div class="max-w-7xl mx-auto px-4 pt-14 pb-10 grid md:grid-cols-2 gap-10 items-center">
      <div>
        <h1 class="text-4xl md:text-5xl font-extrabold leading-tight">ç”¨ <span class="text-sky-400">PyGMT</span> æŠŠåœ°çƒç•«å¾—æ›´æ¼‚äº® ğŸŒ</h1>
        <p class="mt-4 text-slate-300">PyGMT æ˜¯ GMT çš„ Python ä»‹é¢ï¼šæŠŠåš´è¬¹çš„åœ°çƒç‰©ç†ç¹ªåœ–ï¼Œè®Šæˆ Pythonic çš„å„ªé›…å·¥ä½œæµã€‚æœ¬é ç¤ºç¯„ <b>å¯è®€æ€§</b>ã€<b>ç¾è§€</b>ã€<b>å¤šåŠŸèƒ½</b> çš„ä»‹ç´¹ç¶²ç«™æ¨£æ¿ï¼Œé™„äº’å‹•èªªæ˜ã€åœ–è¡¨èˆ‡ç¨‹å¼ç¢¼ã€‚</p>
        <div class="mt-6 flex flex-wrap gap-3">
          <a href="#quickstart" class="rounded-2xl bg-sky-500 hover:bg-sky-400 px-4 py-2 font-semibold">é–‹å§‹ä½¿ç”¨</a>
          <a href="#demos" class="rounded-2xl border border-white/10 hover:bg-white/5 px-4 py-2">çœ‹äº’å‹•å±•ç¤º</a>
          <a href="https://mybinder.org/v2/gh/GenericMappingTools/pygmt/master?labpath=examples%2Fgallery%2Fmaps%2Findex.ipynb" target="_blank" class="rounded-2xl bg-emerald-500 hover:bg-emerald-400 px-4 py-2 font-semibold">åœ¨ Binder åŸ·è¡Œ â–¶ï¸</a>
          <a href="https://colab.research.google.com/" target="_blank" class="rounded-2xl bg-orange-500 hover:bg-orange-400 px-4 py-2 font-semibold">é–‹å•Ÿ Colab â˜ï¸</a>
        </div>
        <p class="mt-4 text-xs text-slate-400">æç¤ºï¼šä½ å¯ä»¥è¤‡è£½ç¨‹å¼ç¢¼ç›´æ¥è²¼åˆ° Jupyter/VS Codeï¼›æˆ–ç”¨ Colab/Binder å•Ÿå‹•ç’°å¢ƒã€‚</p>
      </div>
      <!-- Decorative globe-like SVG -->
      <div class="relative">
        <svg viewBox="0 0 600 600" class="w-full drop-shadow-2xl">
          <defs>
            <radialGradient id="g" cx="50%" cy="50%" r="70%">
              <stop offset="0%" stop-color="#38bdf8" stop-opacity="0.9"/>
              <stop offset="70%" stop-color="#0ea5e9" stop-opacity="0.5"/>
              <stop offset="100%" stop-color="#0b1020" stop-opacity="0.0"/>
            </radialGradient>
          </defs>
          <circle cx="300" cy="300" r="250" fill="url(#g)"/>
          <g stroke="#93c5fd" stroke-opacity=".35">
            <!-- lat lines -->
            <circle cx="300" cy="300" r="200" fill="none"/>
            <circle cx="300" cy="300" r="150" fill="none"/>
            <circle cx="300" cy="300" r="100" fill="none"/>
            <circle cx="300" cy="300" r="50" fill="none"/>
            <!-- lon lines -->
            <path d="M300 50v500"/>
            <path d="M150 90c150 210 150 210 300 0" fill="none"/>
            <path d="M90 150c210 150 210 150 420 0" fill="none"/>
          </g>
        </svg>
      </div>
    </div>
  </section>

  <!-- Overview -->
  <section id="overview" class="max-w-7xl mx-auto px-4 py-10">
    <div class="grid md:grid-cols-3 gap-6">
      <div class="section-card rounded-2xl border border-white/10 p-6 bg-white/5">
        <h3 class="font-bold text-lg mb-2">ç‚ºä»€éº¼é¸ PyGMTï¼Ÿ</h3>
        <p class="text-slate-300 text-sm leading-relaxed">å­¸è¡“ç­‰ç´šçš„åœ°åœ–å“è³ªã€å®Œæ•´çš„æŠ•å½±ç³»çµ±ã€åœ°å½¢èˆ‡æµ·æ·±æŸµæ ¼ (earth relief)ã€ç­‰é«˜ç·šã€é¡è‰²è‰²ç›¤ã€æ§‹é€ ç·šã€åœ°éœ‡/ç«å±±è³‡æ–™é›†â€¦ ä¸€å¥—æå®šã€‚</p>
      </div>
      <div class="section-card rounded-2xl border border-white/10 p-6 bg-white/5">
        <h3 class="font-bold text-lg mb-2">èª°é©åˆï¼Ÿ</h3>
        <p class="text-slate-300 text-sm leading-relaxed">åœ°çƒç§‘å­¸ã€æµ·æ´‹ã€ç’°å¢ƒã€åœ°ç†ã€åœ°éœ‡å­¸ã€ç«å±±å­¸ã€åœ°å½¢å­¸ã€é™æ¸¬èˆ‡ä»»ä½•éœ€è¦ <i>å‡ºç‰ˆç´šåœ°åœ–</i> çš„ç ”ç©¶/æ•™å­¸/å ±å‘Šã€‚</p>
      </div>
      <div class="section-card rounded-2xl border border-white/10 p-6 bg-white/5">
        <h3 class="font-bold text-lg mb-2">æœ¬ç«™ç‰¹è‰²</h3>
        <ul class="text-slate-300 text-sm list-disc ml-5 space-y-1">
          <li>æš—/äº®è‰²ä¸»é¡Œã€ç«™å…§æœå°‹</li>
          <li>äº’å‹•åœ°åœ–å€å¡Š (é¸ region â†’ å¾—åˆ°åƒæ•¸)</li>
          <li>è‰²ç›¤æŒ‘é¸å™¨ã€æŠ•å½±åŠ©æ‰‹ã€Region æ›¸ç±¤</li>
          <li>Mermaid æµç¨‹åœ–ã€å¯è¤‡è£½ç¨‹å¼ç¢¼</li>
        </ul>
      </div>
    </div>
  </section>

  <!-- Install -->
  <section id="install" class="max-w-7xl mx-auto px-4 py-10">
    <h2 class="text-2xl font-extrabold">å®‰è£ Installation ğŸ§°</h2>
    <p class="mt-2 text-slate-300">æŠŠåŸæœ¬å…©å¤§å¡Šå®‰è£å¡ç‰‡æ”¹æˆ <b>åˆ†é å¼</b> æ“ä½œï¼Œä¾ç³»çµ±èˆ‡å·¥å…·è‡ªå‹•åˆ‡æ›æŒ‡ä»¤ï¼Œé‚„èƒ½ä¸€éµè¤‡è£½ã€‚</p>

    <div class="mt-4 rounded-2xl border border-white/10 bg-white/5 p-4">
      <div class="flex flex-wrap gap-2 text-sm">
        <button class="tab-os active rounded-xl px-3 py-1.5 bg-sky-500 font-semibold" data-os="mac">macOS ğŸ</button>
        <button class="tab-os rounded-xl px-3 py-1.5 border border-white/10" data-os="ubuntu">Ubuntu ğŸ§</button>
        <button class="tab-os rounded-xl px-3 py-1.5 border border-white/10" data-os="win">Windows ğŸªŸ</button>
        <span class="mx-2 text-slate-400">Â·</span>
        <button class="tab-tool active rounded-xl px-3 py-1.5 bg-emerald-500 font-semibold" data-tool="mamba">mamba</button>
        <button class="tab-tool rounded-xl px-3 py-1.5 border border-white/10" data-tool="pip">pip</button>
      </div>
      <div class="prose prose-invert max-w-none mt-4">
        <pre><button class="copy-btn rounded-lg bg-white/10 px-2 py-1 text-xs">è¤‡è£½</button><code id="install-code" class="language-bash">mamba create -n pygmt -c conda-forge pygmt
mamba activate pygmt
python -c "import pygmt; print(pygmt.__version__)"</code></pre>
        <p class="text-xs text-slate-400" id="install-note">æ­¤æ–¹æ³•æœƒè‡ªå‹•å¸¶å…¥ GMTã€GDALã€PROJ ç­‰ä¾è³´ã€‚</p>
      </div>
    </div>
  </section>

  <!-- Quickstart -->
  <section id="quickstart" class="max-w-7xl mx-auto px-4 py-10">
    <h2 class="text-2xl font-extrabold">å¿«é€Ÿä¸Šæ‰‹ Quick Start</h2>
    <p class="mt-2 text-slate-300">ä»¥ä¸‹ç¯„ä¾‹ç¤ºç¯„ï¼šè¼‰å…¥åœ°å½¢ã€è‘—è‰²ã€æµ·å²¸ç·šã€è‰²æ¢èˆ‡æŠ•å½±ã€‚æŠŠ code è¤‡è£½åˆ°ä½ çš„ Notebook å°±èƒ½è·‘ï¼ˆéœ€æœ¬åœ°ç’°å¢ƒï¼‰ã€‚</p>

    <div class="prose prose-invert max-w-none border border-white/10 rounded-2xl p-4 bg-white/5">
<pre><button class="copy-btn rounded-lg bg-white/10 px-2 py-1 text-xs">è¤‡è£½</button><code class="language-python">import pygmt
from pygmt.datasets import load_earth_relief

# 1) è¼‰å…¥ 15 è§’åˆ†è§£æåº¦åœ°å½¢ï¼ˆæ›´é«˜è§£æåº¦ï¼š'01m', '15s'ï¼‰
grid = load_earth_relief(resolution='15m', region=[119, 123.5, 21.5, 25.5])  # å°ç£

fig = pygmt.Figure()
fig.grdimage(grid, cmap='geo', shading=True, frame=['af', '+t"Taiwan Topography"'])
fig.coast(shorelines='1p,black', borders='1/0.5p,white', water='lightblue')
fig.colorbar(frame='a1000')
fig.show()
</code></pre>
      <details class="mt-2">
        <summary class="cursor-pointer text-sky-300">å¸¸è¦‹åƒæ•¸å‚™å¿˜éŒ„</summary>
        <ul class="text-sm text-slate-300 list-disc ml-6">
          <li><b>region</b> = [W, E, S, N]ï¼›<b>projection</b>='M10c' åœ°åœ–å¯¬åº¦ 10 cm</li>
          <li><b>cmap</b>ï¼š'geo', 'cool', 'topo', 'relief' æˆ–è‡ªè¨‚ CPT</li>
          <li><b>grdimage</b>ï¼šåœ°å½¢ä¸Šè‰²ï¼›<b>grdcontour</b>ï¼šç­‰é«˜ç·š</li>
          <li><b>plot</b>ï¼šæ•£é»/ç·šï¼›<b>text</b>ï¼šæ–‡å­—ï¼›<b>inset</b>ï¼šæ’åœ–</li>
        </ul>
      </details>
    </div>
  </section>

  <!-- Interactive Demos -->
  <section id="demos" class="max-w-7xl mx-auto px-4 py-10">
    <h2 class="text-2xl font-extrabold">äº’å‹•å±•ç¤º Interactive Demos âœ¨</h2>
    <div class="grid lg:grid-cols-2 gap-6 mt-4">
      <!-- Demo A: Leaflet region picker -->
      <div class="rounded-2xl border border-white/10 p-4 bg-white/5">
        <h3 class="font-bold mb-2">å€åŸŸé¸æ“‡å™¨ï¼šè‡ªå‹•ç”¢ç”Ÿ <code>region=[W,E,S,N]</code></h3>
        <div id="map" class="h-72 rounded-xl overflow-hidden"></div>
        <div class="mt-3 text-sm text-slate-300">æ‹–æ›³æˆ–æåˆåœ°åœ–ï¼Œé»æ“Šä¸‹æ–¹æŒ‰éˆ•è®€å–ç›®å‰è¦–çª—å°æ‡‰çš„ <code>region</code> åƒæ•¸ã€‚</div>
        <div class="mt-3 flex items-center gap-2">
          <button id="btn-region" class="rounded-xl bg-sky-500 hover:bg-sky-400 px-3 py-1.5 text-sm font-semibold">å–å¾— region</button>
          <code id="region-out" class="text-xs bg-black/40 px-2 py-1 rounded">region=[120.0, 121.0, 23.0, 24.0]</code>
        </div>
      </div>

      <!-- Demo B: CPT Palette Picker (replaces Chart.js demo) -->
      <div class="rounded-2xl border border-white/10 p-4 bg-white/5">
        <h3 class="font-bold mb-2">è‰²ç›¤æŒ‘é¸å™¨ ğŸ¨ï¼šå³æ™‚é è¦½ & ç”¢ç”Ÿç¨‹å¼ç¢¼</h3>
        <div class="flex items-center gap-2 text-sm">
          <label>é¸æ“‡ cmapï¼š</label>
          <select id="cmap" class="bg-white/10 border border-white/10 rounded-xl px-2 py-1">
            <option>geo</option>
            <option>relief</option>
            <option>cool</option>
            <option>topo</option>
            <option>batlow</option>
            <option>vik</option>
            <option>roma</option>
          </select>
          <button id="swap" class="rounded-xl border border-white/10 px-2 py-1">åè½‰</button>
        </div>
        <canvas id="cmapCanvas" width="520" height="28" class="mt-3 rounded"></canvas>
        <div class="prose prose-invert max-w-none mt-3">
<pre><button class="copy-btn rounded-lg bg-white/10 px-2 py-1 text-xs">è¤‡è£½</button><code id="cmap-code" class="language-python">fig.grdimage(grid, cmap='geo', shading=True)</code></pre>
        </div>
      </div>
    </div>

    <div class="grid lg:grid-cols-2 gap-6 mt-6">
      <!-- Demo C: Projection helper -->
      <div class="rounded-2xl border border-white/10 p-4 bg-white/5">
        <h3 class="font-bold mb-2">æŠ•å½±å¿«é€ŸåŠ©æ‰‹ ğŸ§­</h3>
        <div class="flex flex-wrap items-center gap-2 text-sm">
          <label>Projectionï¼š</label>
          <select id="proj" class="bg-white/10 border border-white/10 rounded-xl px-2 py-1">
            <option value="M12c">Mercator (M)</option>
            <option value="Q12c">Equirectangular (Q)</option>
            <option value="G330/-30/12c">Orthographic (G)</option>
            <option value="E12c">Miller (E)</option>
            <option value="Kf12c">Lambert Conic (Kf)</option>
          </select>
          <span class="text-xs text-slate-400">* é¡¯ç¤ºå¯ç›´æ¥è²¼ç”¨çš„å­—ä¸²</span>
        </div>
        <div class="mt-3 flex items-center gap-2">
          <code id="proj-out" class="text-xs bg-black/40 px-2 py-1 rounded">projection='M12c'</code>
          <button id="copy-proj" class="rounded-xl bg-white/10 px-2 py-1 text-xs">è¤‡è£½</button>
        </div>
      </div>

      <!-- Demo D: Region æ›¸ç±¤ç®¡ç† -->
      <div class="rounded-2xl border border-white/10 p-4 bg-white/5">
        <h3 class="font-bold mb-2">Region æ›¸ç±¤ ğŸ“Œ</h3>
        <div class="flex gap-2 text-sm">
          <input id="bookmark-name" placeholder="åç¨±ï¼ˆå¦‚ Taiwanï¼‰" class="flex-1 bg-white/10 border border-white/10 rounded-xl px-2 py-1" />
          <input id="bookmark-region" placeholder="region=[119,123.5,21.5,25.5]" class="flex-[2] bg-white/10 border border-white/10 rounded-xl px-2 py-1" />
          <button id="add-bookmark" class="rounded-xl bg-emerald-500 hover:bg-emerald-400 px-3 py-1.5 text-sm font-semibold">åŠ å…¥</button>
        </div>
        <ul id="bookmark-list" class="mt-3 text-sm space-y-2"></ul>
      </div>
    </div>

    <!-- Demo E: D3-geo çœŸå¯¦æŠ•å½±å°åœ°åœ– -->
    <div class="rounded-2xl border border-white/10 p-4 bg-white/5 mt-6">
      <h3 class="font-bold mb-2">D3-geo æŠ•å½±åˆ‡æ› ğŸŒï¼ˆå³æ™‚è®Šæ›ã€å«ç¶“ç·¯ç¶²ï¼‰</h3>
      <div class="flex flex-wrap items-center gap-2 text-sm">
        <label>Projectionï¼š</label>
        <select id="d3proj" class="bg-white/10 border border-white/10 rounded-xl px-2 py-1">
          <option value="geoNaturalEarth1">NaturalEarth1</option>
          <option value="geoOrthographic">Orthographic</option>
          <option value="geoMercator">Mercator</option>
          <option value="geoEqualEarth">EqualEarth</option>
          <option value="geoEquirectangular">Equirectangular</option>
        </select>
        <span class="text-xs text-slate-400">* åƒ…ä¾›è¦–è¦ºé è¦½ï¼Œå¯¦ä½œæ™‚è«‹åœ¨ PyGMT ä¸­å°æ‡‰è¨­å®šã€‚</span>
      </div>
      <svg id="d3map" viewBox="0 0 640 360" class="mt-3 w-full rounded-xl bg-slate-900"></svg>
    </div>
  </section>

  <!-- Gallery -->
  <section id="gallery" class="max-w-7xl mx-auto px-4 py-10">
    <h2 class="text-2xl font-extrabold">åœ–åº« Galleryï¼ˆä½ çš„ PyGMT ä½œå“ï¼‰ğŸ–¼ï¸</h2>
    <p class="text-slate-300 mt-2">ä¸‹åˆ—ç¤ºç¯„ç›´æ¥åµŒå…¥ä½ çš„æˆå“å½±åƒã€‚è«‹å°‡åœ–ç‰‡æ”¾åˆ° <code>assets/</code> ç›®éŒ„ï¼ˆå»ºè­°è‹±æ–‡åŒ–å‘½åï¼š<code>1111.png</code>ã€<code>wc_co2_flux.jpg</code>ã€<code>archi_sea.png</code>ã€<code>topography.png</code>ï¼‰ï¼ˆå»ºè­°å°‡æª”åæ”¹æˆè‹±æ–‡ã€ç„¡ç©ºç™½ï¼‰ã€‚</p>

    <div class="grid md:grid-cols-2 gap-6 mt-4">
      <figure class="section-card rounded-2xl border border-white/10 bg-white/5 p-3">
        <img src="assets/1111.png" alt="Taiwan earthquakes depth map" class="rounded-xl w-full h-auto"/>
        <figcaption class="p-2 text-sm text-slate-300">å°ç£åœ°éœ‡æ·±åº¦åˆ†å¸ƒï¼ˆåœ“é»è‘—è‰² = æ·±åº¦ï¼‰</figcaption>
      </figure>
      <figure class="section-card rounded-2xl border border-white/10 bg-white/5 p-3">
        <img src="assets/wc_co2_flux.jpg" alt="CO2 flux map" class="rounded-xl w-full h-auto"/>
        <figcaption class="p-2 text-sm text-slate-300">åœ°è¡¨ COâ‚‚ é€šé‡/æ°¡/æ¿ƒåº¦ç–Šåœ–ï¼ˆç ”ç©¶å€ç¤ºä¾‹ï¼‰</figcaption>
      </figure>
      <figure class="section-card rounded-2xl border border-white/10 bg-white/5 p-3">
        <img src="assets/archi_sea.png" alt="Archipelago Sea map" class="rounded-xl w-full h-auto"/>
        <figcaption class="p-2 text-sm text-slate-300">ç¾¤å³¶æµ·æµ·å²¸ç·šç¤ºæ„</figcaption>
      </figure>
      <figure class="section-card rounded-2xl border border-white/10 bg-white/5 p-3">
        <img src="assets/topography.png" alt="Topography relief" class="rounded-xl w-full h-auto"/>
        <figcaption class="p-2 text-sm text-slate-300">é«˜è§£æåº¦åœ°å½¢è‘—è‰²ï¼ˆreliefï¼‰</figcaption>
      </figure>
    </div>
  </section>

  <!-- Cheat Sheet -->
  <section id="cheats" class="max-w-7xl mx-auto px-4 py-10">
    <h2 class="text-2xl font-extrabold">å¸¸ç”¨æŒ‡ä»¤ Cheat Sheet</h2>
    <div class="grid md:grid-cols-2 gap-6 mt-4">
      <div class="prose prose-invert max-w-none border border-white/10 rounded-2xl p-4 bg-white/5">
<pre><button class="copy-btn rounded-lg bg-white/10 px-2 py-1 text-xs">è¤‡è£½</button><code class="language-python">fig = pygmt.Figure()
fig.basemap(region=[-90,-70,-20,10], projection='M12c', frame=['af', '+t"South America"'])
fig.grdimage(load_earth_relief('15m'), cmap='geo', shading=True)
fig.coast(shorelines='1p,black', borders=1)
fig.colorbar(frame='a1000')
fig.savefig('south_america.png', dpi=300)
</code></pre>
      </div>
      <div class="prose prose-invert max-w-none border border-white/10 rounded-2xl p-4 bg-white/5">
<pre><button class="copy-btn rounded-lg bg-white/10 px-2 py-1 text-xs">è¤‡è£½</button><code class="language-python"># ç–ŠåŠ æ•£é»ï¼šä¾‹å¦‚åœ°éœ‡/ç«å±±
import pandas as pd
import numpy as np
lat = [ -16.3, -0.6, -14.5 ]
lon = [-71.5, -78.5, -67.8 ]
size = [ 0.4, 0.6, 0.5 ] # cm
fig.plot(x=lon, y=lat, style='c'+','.join(map(str,size)), color='red', pen='0.25p,black')
fig.show()
</code></pre>
      </div>
    </div>
  </section>

  <!-- Resources -->
  <section id="resources" class="max-w-7xl mx-auto px-4 py-10">
    <h2 class="text-2xl font-extrabold">è³‡æº Resources</h2>
    <ul class="mt-2 grid md:grid-cols-2 gap-3 text-slate-300">
      <li class="rounded-xl border border-white/10 bg-white/5 p-3">å®˜æ–¹æ–‡ä»¶ï¼ˆLatestï¼‰ï¼š<a class="text-sky-400 hover:underline" href="https://www.pygmt.org/latest/" target="_blank" rel="noopener">pygmt.org/latest</a></li>
      <li class="rounded-xl border border-white/10 bg-white/5 p-3">GMT ä¸»ç«™ï¼š<a class="text-sky-400 hover:underline" href="https://www.generic-mapping-tools.org/" target="_blank" rel="noopener">generic-mapping-tools.org</a></li>
      <li class="rounded-xl border border-white/10 bg-white/5 p-3">ç¯„ä¾‹ç•«å»Šï¼š<a class="text-sky-400 hover:underline" href="https://www.pygmt.org/latest/gallery/index.html" target="_blank">Gallery</a></li>
      <li class="rounded-xl border border-white/10 bg-white/5 p-3">ç™¼å•/è¨è«–ï¼š<a class="text-sky-400 hover:underline" href="https://forum.generic-mapping-tools.org/" target="_blank">GMT Forum</a></li>
      <li class="rounded-xl border border-white/10 bg-white/5 p-3">Try onlineï¼š<a class="text-sky-400 hover:underline" href="https://mybinder.org/v2/gh/GenericMappingTools/pygmt/master?labpath=examples%2Fgallery%2Fmaps%2Findex.ipynb" target="_blank">Binder</a></li>
      <li class="rounded-xl border border-white/10 bg-white/5 p-3">Colabï¼ˆç¬¬ä¸‰æ–¹ï¼‰ï¼š<a class="text-sky-400 hover:underline" href="https://colab.research.google.com/" target="_blank">Google Colab</a></li>
    </ul>
  </section>

  <footer class="border-t border-white/10">
    <div class="max-w-7xl mx-auto px-4 py-8 text-xs text-slate-400 flex flex-col md:flex-row gap-2 md:items-center md:justify-between">
      <div>Â© <span id="year"></span> PyGMT Playground | Built with Tailwind Â· Mermaid Â· Leaflet Â· D3</div>
      <div>Made for education/demo. Replace SVGs with your PyGMT figures âœ¨</div>
    </div>
  </footer>

  <!-- Scripts -->
  <script>
    // icons
    lucide.createIcons();

    // theme toggle
    const themeBtn = document.getElementById('toggle-theme');
    const root = document.documentElement;
    themeBtn?.addEventListener('click', () => {
      if (root.classList.contains('light')) {
        root.classList.remove('light');
        document.body.classList.remove('bg-white', 'text-slate-900');
        document.body.classList.add('bg-slate-950', 'text-slate-100');
      } else {
        root.classList.add('light');
        document.body.classList.add('bg-white', 'text-slate-900');
        document.body.classList.remove('bg-slate-950', 'text-slate-100');
      }
    });

    // search filter (basic)
    const searchInput = document.getElementById('site-search');
    searchInput?.addEventListener('input', (e) => {
      const q = e.target.value.toLowerCase();
      document.querySelectorAll('section').forEach(sec => {
        const text = sec.textContent.toLowerCase();
        sec.style.opacity = q && !text.includes(q) ? 0.15 : 1;
      });
    });

    // copy buttons
    document.querySelectorAll('.prose pre').forEach(pre => {
      const btn = pre.querySelector('.copy-btn');
      const code = pre.querySelector('code');
      btn?.addEventListener('click', async () => {
        try {
          await navigator.clipboard.writeText(code.innerText);
          btn.textContent = 'å·²è¤‡è£½!';
          setTimeout(() => (btn.textContent = 'è¤‡è£½'), 1200);
        } catch (err) { btn.textContent = 'å¤±æ•—'; }
      });
    });

    // footer year
    document.getElementById('year').textContent = new Date().getFullYear();

    // Leaflet map + region
    const map = L.map('map', { scrollWheelZoom: true }).setView([23.7, 121], 6);
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      maxZoom: 10, attribution: '&copy; OpenStreetMap'
    }).addTo(map);
    const regionOut = document.getElementById('region-out');
    document.getElementById('btn-region').addEventListener('click', () => {
      const b = map.getBounds();
      const W = +b.getWest().toFixed(3);
      const E = +b.getEast().toFixed(3);
      const S = +b.getSouth().toFixed(3);
      const N = +b.getNorth().toFixed(3);
      regionOut.textContent = `region=[${W}, ${E}, ${S}, ${N}]`;
    });

    // INSTALL: tabbed commands
    const osButtons = document.querySelectorAll('.tab-os');
    const toolButtons = document.querySelectorAll('.tab-tool');
    const installCode = document.getElementById('install-code');
    const installNote = document.getElementById('install-note');
    let curOS = 'mac', curTool = 'mamba';

    function renderInstall(){
      let cmd = '';
      let note = '';
      if(curTool==='mamba'){
        cmd = `mamba create -n pygmt -c conda-forge pygmt
mamba activate pygmt
python -c "import pygmt; print(pygmt.__version__)"`;
        note = 'æ­¤æ–¹æ³•æœƒè‡ªå‹•å¸¶å…¥ GMTã€GDALã€PROJ ç­‰ä¾è³´ã€‚';
      } else {
        if(curOS==='mac') cmd = `brew install gmt
pip install pygmt
python -c "import pygmt; print(pygmt.__version__)"`;
        if(curOS==='ubuntu') cmd = `sudo apt-get update && sudo apt-get install -y gmt gmt-dcw gmt-gshhg
pip install pygmt
python -c "import pygmt; print(pygmt.__version__)"`;
        if(curOS==='win') cmd = `# å…ˆå®‰è£ GMTï¼šå»ºè­°ç”¨ conda-forge
pip install pygmt
python -c "import pygmt; print(pygmt.__version__)"`;
        note = 'è‹¥é‡åˆ°å‹•æ…‹å‡½å¼åº«å•é¡Œï¼Œè«‹ç¢ºèª GMT èˆ‡ GDAL ç‰ˆæœ¬ç›¸å®¹ã€‚';
      }
      installCode.textContent = cmd;
      installNote.textContent = note;
    }

    osButtons.forEach(btn=>btn.addEventListener('click',()=>{
      osButtons.forEach(b=>b.classList.remove('bg-sky-500','font-semibold','active'));
      btn.classList.add('bg-sky-500','font-semibold','active');
      curOS = btn.dataset.os; renderInstall();
    }));
    toolButtons.forEach(btn=>btn.addEventListener('click',()=>{
      toolButtons.forEach(b=>b.classList.remove('bg-emerald-500','font-semibold','active'));
      btn.classList.add('bg-emerald-500','font-semibold','active');
      curTool = btn.dataset.tool; renderInstall();
    }));
    renderInstall();

    // CPT palette preview
    const cmapCanvas = document.getElementById('cmapCanvas');
    const cmapSelect = document.getElementById('cmap');
    const swapBtn = document.getElementById('swap');
    const cmapCode = document.getElementById('cmap-code');
    let reversed = false;

    function drawRamp(){
      const ctx = cmapCanvas.getContext('2d');
      const w = cmapCanvas.width, h = cmapCanvas.height;
      const grad = ctx.createLinearGradient(0,0,w,0);
      // ä»¥ç¤ºæ„ç”¨é¡è‰²è¿‘ä¼¼ GMT CPTï¼ˆéç²¾æº–ï¼‰ï¼Œåƒ…ä¾›é è¦½äº’å‹•
      const presets = {
        geo: ['#006400','#3cb371','#ffd27f','#ff7f50','#c41e3a'],
        relief: ['#001d4a','#1e6091','#34a0a4','#c7f9cc','#f9c74f'],
        cool: ['#00f','#0ff','#0f0','#ff0','#f00'],
        topo: ['#005f73','#0a9396','#94d2bd','#e9d8a6','#ee9b00','#bb3e03'],
        batlow: ['#011959','#3b7ab8','#a3d7d8','#f5e6a1','#f08048'],
        vik: ['#1a1a1a','#6a4c93','#f72585','#fde725'],
        roma: ['#3b0f70','#8c2981','#de4968','#fe9f6d','#fcfdbf']
      };
      const colors = presets[cmapSelect.value] || presets['geo'];
      ctx.clearRect(0,0,w,h);
      const arr = reversed ? [...colors].reverse() : colors;
      arr.forEach((c,i)=> grad.addColorStop(i/(arr.length-1), c));
      ctx.fillStyle = grad; ctx.fillRect(0,0,w,h);
      cmapCode.textContent = `fig.grdimage(grid, cmap='${cmapSelect.value}${reversed?'_r':''}', shading=True)`;
    }
    cmapSelect?.addEventListener('change', drawRamp);
    swapBtn?.addEventListener('click', ()=>{ reversed = !reversed; drawRamp();});
    if(cmapCanvas) drawRamp();

    // Projection helper
    const proj = document.getElementById('proj');
    const projOut = document.getElementById('proj-out');
    const copyProj = document.getElementById('copy-proj');
    function renderProj(){ projOut.textContent = `projection='${proj.value}'`; }
    proj?.addEventListener('change', renderProj);
    copyProj?.addEventListener('click', async ()=>{
      await navigator.clipboard.writeText(projOut.textContent);
      copyProj.textContent = 'å·²è¤‡è£½!'; setTimeout(()=>copyProj.textContent='è¤‡è£½',1000);
    });
    renderProj();

    // Region bookmarks
    const list = document.getElementById('bookmark-list');
    const addBtn = document.getElementById('add-bookmark');
    const nameInput = document.getElementById('bookmark-name');
    const regionInput = document.getElementById('bookmark-region');

    function renderList(){
      list.innerHTML = '';
      const items = JSON.parse(localStorage.getItem('pygmt_regions')||'[]');
      items.forEach((it,idx)=>{
        const li = document.createElement('li');
        li.className = 'flex items-center gap-2';
        const code = document.createElement('code');
        code.className = 'text-xs bg-black/40 px-2 py-1 rounded flex-1';
        code.textContent = `${it.name}: ${it.region}`;
        const copy = document.createElement('button');
        copy.className = 'rounded-xl bg-white/10 px-2 py-1 text-xs';
        copy.textContent = 'è¤‡è£½';
        copy.addEventListener('click', async ()=>{
          await navigator.clipboard.writeText(it.region);
          copy.textContent = 'å·²è¤‡è£½!'; setTimeout(()=>copy.textContent='è¤‡è£½',1000);
        });
        const del = document.createElement('button');
        del.className = 'rounded-xl border border-white/10 px-2 py-1 text-xs';
        del.textContent = 'åˆªé™¤';
        del.addEventListener('click',()=>{
          items.splice(idx,1); localStorage.setItem('pygmt_regions', JSON.stringify(items)); renderList();
        });
        li.appendChild(code); li.appendChild(copy); li.appendChild(del); list.appendChild(li);
      })
    }
    addBtn?.addEventListener('click',()=>{
      const items = JSON.parse(localStorage.getItem('pygmt_regions')||'[]');
      if(nameInput.value && regionInput.value) {
        items.push({name:nameInput.value, region:regionInput.value});
        localStorage.setItem('pygmt_regions', JSON.stringify(items));
        nameInput.value = ''; regionInput.value = ''; renderList();
      }
    });
    if(list) renderList();
  // D3-geo: realtime projection preview (fetch world atlas JSON)
  (async function(){
    try {
      const svg = d3.select('#d3map');
      if (!svg.node()) return;
      const g = svg.append('g');
      const graticule = d3.geoGraticule10();
      const worldData = await d3.json('https://cdn.jsdelivr.net/npm/world-atlas@2/countries-110m.json');
      const land = topojson.feature(worldData, worldData.objects.countries);
      function drawD3(projName='geoNaturalEarth1'){
        const proj = d3[projName]().fitExtent([[10,10],[630,350]], {type:'Sphere'});
        const path = d3.geoPath(proj);
        g.selectAll('*').remove();
        g.append('path').attr('d', path({type:'Sphere'})).attr('fill', '#0b1220');
        g.append('path').attr('d', path(graticule)).attr('fill', 'none').attr('stroke', '#64748b').attr('stroke-opacity', .5).attr('stroke-width', .5);
        g.append('path').attr('d', path(land)).attr('fill', '#22c55e').attr('stroke', '#0ea5e9').attr('stroke-width', .6).attr('fill-opacity', .8);
      }
      drawD3();
      document.getElementById('d3proj')?.addEventListener('change', (e)=> drawD3(e.target.value));
    } catch (e) {
      console.warn('D3-geo init failed', e);
      const holder = document.getElementById('d3map');
      if(holder){
        const t = document.createElementNS('http://www.w3.org/2000/svg','text');
        t.setAttribute('x','16'); t.setAttribute('y','28'); t.setAttribute('fill','#94a3b8');
        t.textContent = 'â— ç„¡æ³•è¼‰å…¥ä¸–ç•Œåœ°åœ–è³‡æ–™ï¼ˆCDN æˆ–ç¶²è·¯å•é¡Œï¼‰';
        holder.appendChild(t);
      }
    }
  })();

</script>
</body>
</html>
